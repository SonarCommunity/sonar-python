/*
 * This file was generated by the Gradle 'init' task.
 *
 * This project uses @Incubating APIs which are subject to change.
 */

plugins {
    id 'org.sonarsource.python.java-conventions'
}

dependencies {
    api project(':python-frontend')
    api project(':python-checks')
    api 'org.sonarsource.analyzer-commons:sonar-analyzer-commons:2.1.0.1111'
    api 'org.sonarsource.analyzer-commons:sonar-xml-parsing:2.1.0.1111'
    api 'org.sonarsource.analyzer-commons:sonar-performance-measure:2.1.0.1111'
    api 'commons-lang:commons-lang:2.6'
    api 'org.codehaus.staxmate:staxmate:2.0.1'
    testImplementation 'org.sonarsource.sonarqube:sonar-plugin-api-impl:9.7.1.62043'
    testImplementation 'org.sonarsource.sslr:sslr-testing-harness:1.23'
    testImplementation 'org.sonarsource.sonarqube:sonar-testing-harness:9.7.1.62043'
    testImplementation 'org.assertj:assertj-core:3.19.0'
    testImplementation 'org.mockito:mockito-core:4.11.0'
    testImplementation 'org.mockito:mockito-inline:4.11.0'

    testImplementation 'org.sonarsource.sonarlint.core:sonarlint-core:8.11.0.56591'
    // TODO api or compileOnly?
    api 'org.sonarsource.api.plugin:sonar-plugin-api:9.11.0.290'
//    testImplementation 'org.sonarsource.api.plugin:sonar-plugin-api:9.11.0.290'

    compileOnly 'org.sonarsource.sonarlint.core:sonarlint-plugin-api:8.11.0.56591'
}

//  org.sonarsource.api.plugin:sonar-plugin-api:9.11.0.290

description = 'Python :: Sonar Plugin'

task printSourceSetInformation2(){

    doLast{
        sourceSets.each { srcSet ->
            println "["+srcSet.name+"]"
            print "-->Source directories: "+srcSet.allJava.srcDirs+"\n"
            print "-->Output directories: "+srcSet.output.classesDirs.files+"\n"
            print "-->Compile classpath:\n"
            srcSet.compileClasspath.files.each {
                print "  "+it.path+"\n"
            }
            println ""
        }
    }
}
